{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user1\\\\Documents\\\\\\u05EA\\u05DB\\u05E0\\u05D5\\u05EA \\u05EA\\u05E9\\u05E4\\u05D5\\\\\\u05E4\\u05E8\\u05E7\\u05D8\\u05D9-\\u05E7\\u05D5\\u05D3\\\\3\\\\ToDoListReact\\\\src\\\\Tasks.js\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState } from \"react\";\n// import { api } from \"./service\";\n// import { useNavigate } from \"react-router-dom\";\n\n// export default function Tasks() {\n//   const [tasks, setTasks] = useState([]);\n//   const [newTask, setNewTask] = useState(\"\");\n//   const navigate = useNavigate();\n\n//   const loadTasks = async () => {\n//     try {\n//       const data = await api.getTasks();\n//       if (!data) return; // אם אין token, כבר הפנה לעמוד login\n//       setTasks(data);\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Failed to load tasks. You might need to login.\");\n//     }\n//   };\n\n//   const handleAddTask = async () => {\n//     if (!newTask) return;\n//     try {\n//       await api.addTask(newTask);\n//       setNewTask(\"\");\n//       loadTasks();\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Failed to add task.\");\n//     }\n//   };\n//   const toggleComplete = async (id, currentStatus) => {\n//     try {\n//       await api.setCompleted(id, !currentStatus);\n//       await loadTasks(); // Refresh the tasks list\n//     } catch (error) {\n//       console.error(\"Error updating task status:\", error);\n//       alert(\"Failed to update task status\");\n//     }\n//   };\n\n//   useEffect(() => {\n//     // בדיקה אם יש token\n//     const token = localStorage.getItem(\"token\");\n//     if (!token) {\n//       navigate(\"/login\");\n//       return;\n//     }\n//     loadTasks();\n//   }, [navigate]);\n\n//   return (\n//     <div>\n//       <h2>Tasks</h2>\n//       <input\n//         placeholder=\"New task\"\n//         value={newTask}\n//         onChange={(e) => setNewTask(e.target.value)}\n//       />\n//       <button onClick={handleAddTask}>Add Task</button>\n//       <ul style={{ listStyle: 'none', padding: 0 }}>\n//   {tasks.map((task) => (\n//     <li \n//       key={task.id} \n//       style={{ \n//         display: 'flex', \n//         alignItems: 'center', \n//         margin: '5px 0',\n//         textDecoration: task.isComplete ? 'line-through' : 'none'\n//       }}\n//     >\n//       <input\n//         type=\"checkbox\"\n//         checked={task.isComplete || false}\n//         onChange={() => toggleComplete(task.id, task.isComplete)}\n//         style={{ marginRight: '10px' }}\n//       />\n//       {task.name}\n//     </li>\n//   ))}\n// </ul>    </div>\n//   );\n// }\n\nimport React, { useEffect, useState } from \"react\";\nimport { api } from \"./service\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Tasks() {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [newTask, setNewTask] = useState(\"\");\n  const navigate = useNavigate();\n\n  // --- טעינת המשימות ---\n  const loadTasks = async () => {\n    try {\n      const data = await api.getTasks();\n      if (!data) return; // אם אין token, כבר הפנה לעמוד login\n      setTasks(data);\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to load tasks. You might need to login.\");\n    }\n  };\n\n  // --- הוספת משימה חדשה ---\n  const handleAddTask = async () => {\n    if (!newTask) return;\n    try {\n      await api.addTask(newTask);\n      setNewTask(\"\");\n      loadTasks();\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to add task.\");\n    }\n  };\n\n  // --- עדכון סטטוס משימה ---\n  const toggleComplete = async (id, currentStatus) => {\n    try {\n      await api.setCompleted(id, !currentStatus);\n      loadTasks(); // רענון הרשימה\n    } catch (error) {\n      console.error(\"Error updating task status:\", error);\n      alert(\"Failed to update task status\");\n    }\n  };\n\n  // --- מחיקת משימה ---\n  const handleDeleteTask = async id => {\n    try {\n      await api.deleteTask(id);\n      loadTasks(); // רענון הרשימה\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to delete task.\");\n    }\n  };\n\n  // --- בדיקה אם המשתמש מחובר ---\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      navigate(\"/login\");\n      return;\n    }\n    loadTasks();\n  }, [navigate]);\n\n  // --- ממשק המשתמש ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Tasks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"New task\",\n      value: newTask,\n      onChange: e => setNewTask(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddTask,\n      children: \"Add Task\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: 'none',\n        padding: 0\n      },\n      children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          margin: '5px 0',\n          textDecoration: task.isComplete ? 'line-through' : 'none'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: task.isComplete || false,\n          onChange: () => toggleComplete(task.id, task.isComplete),\n          style: {\n            marginRight: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), task.name, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteTask(task.id),\n          style: {\n            marginLeft: '10px'\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)]\n      }, task.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n}\n_s(Tasks, \"6Eb2Ig2MBg4V07Il+iRK1a5KIKM=\", false, function () {\n  return [useNavigate];\n});\n_c = Tasks;\nvar _c;\n$RefreshReg$(_c, \"Tasks\");","map":{"version":3,"names":["React","useEffect","useState","api","useNavigate","jsxDEV","_jsxDEV","Tasks","_s","tasks","setTasks","newTask","setNewTask","navigate","loadTasks","data","getTasks","err","console","error","alert","handleAddTask","addTask","toggleComplete","id","currentStatus","setCompleted","handleDeleteTask","deleteTask","token","localStorage","getItem","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onClick","style","listStyle","padding","map","task","display","alignItems","margin","textDecoration","isComplete","type","checked","marginRight","name","marginLeft","_c","$RefreshReg$"],"sources":["C:/Users/user1/Documents/תכנות תשפו/פרקטי-קוד/3/ToDoListReact/src/Tasks.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import { api } from \"./service\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n\r\n// export default function Tasks() {\r\n//   const [tasks, setTasks] = useState([]);\r\n//   const [newTask, setNewTask] = useState(\"\");\r\n//   const navigate = useNavigate();\r\n\r\n//   const loadTasks = async () => {\r\n//     try {\r\n//       const data = await api.getTasks();\r\n//       if (!data) return; // אם אין token, כבר הפנה לעמוד login\r\n//       setTasks(data);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       alert(\"Failed to load tasks. You might need to login.\");\r\n//     }\r\n//   };\r\n\r\n//   const handleAddTask = async () => {\r\n//     if (!newTask) return;\r\n//     try {\r\n//       await api.addTask(newTask);\r\n//       setNewTask(\"\");\r\n//       loadTasks();\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       alert(\"Failed to add task.\");\r\n//     }\r\n//   };\r\n//   const toggleComplete = async (id, currentStatus) => {\r\n//     try {\r\n//       await api.setCompleted(id, !currentStatus);\r\n//       await loadTasks(); // Refresh the tasks list\r\n//     } catch (error) {\r\n//       console.error(\"Error updating task status:\", error);\r\n//       alert(\"Failed to update task status\");\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     // בדיקה אם יש token\r\n//     const token = localStorage.getItem(\"token\");\r\n//     if (!token) {\r\n//       navigate(\"/login\");\r\n//       return;\r\n//     }\r\n//     loadTasks();\r\n//   }, [navigate]);\r\n\r\n//   return (\r\n//     <div>\r\n//       <h2>Tasks</h2>\r\n//       <input\r\n//         placeholder=\"New task\"\r\n//         value={newTask}\r\n//         onChange={(e) => setNewTask(e.target.value)}\r\n//       />\r\n//       <button onClick={handleAddTask}>Add Task</button>\r\n//       <ul style={{ listStyle: 'none', padding: 0 }}>\r\n//   {tasks.map((task) => (\r\n//     <li \r\n//       key={task.id} \r\n//       style={{ \r\n//         display: 'flex', \r\n//         alignItems: 'center', \r\n//         margin: '5px 0',\r\n//         textDecoration: task.isComplete ? 'line-through' : 'none'\r\n//       }}\r\n//     >\r\n//       <input\r\n//         type=\"checkbox\"\r\n//         checked={task.isComplete || false}\r\n//         onChange={() => toggleComplete(task.id, task.isComplete)}\r\n//         style={{ marginRight: '10px' }}\r\n//       />\r\n//       {task.name}\r\n//     </li>\r\n//   ))}\r\n// </ul>    </div>\r\n//   );\r\n// }\r\n\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { api } from \"./service\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Tasks() {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [newTask, setNewTask] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  // --- טעינת המשימות ---\r\n  const loadTasks = async () => {\r\n    try {\r\n      const data = await api.getTasks();\r\n      if (!data) return; // אם אין token, כבר הפנה לעמוד login\r\n      setTasks(data);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to load tasks. You might need to login.\");\r\n    }\r\n  };\r\n\r\n  // --- הוספת משימה חדשה ---\r\n  const handleAddTask = async () => {\r\n    if (!newTask) return;\r\n    try {\r\n      await api.addTask(newTask);\r\n      setNewTask(\"\");\r\n      loadTasks();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to add task.\");\r\n    }\r\n  };\r\n\r\n  // --- עדכון סטטוס משימה ---\r\n  const toggleComplete = async (id, currentStatus) => {\r\n    try {\r\n      await api.setCompleted(id, !currentStatus);\r\n      loadTasks(); // רענון הרשימה\r\n    } catch (error) {\r\n      console.error(\"Error updating task status:\", error);\r\n      alert(\"Failed to update task status\");\r\n    }\r\n  };\r\n\r\n  // --- מחיקת משימה ---\r\n  const handleDeleteTask = async (id) => {\r\n    try {\r\n      await api.deleteTask(id);\r\n      loadTasks(); // רענון הרשימה\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to delete task.\");\r\n    }\r\n  };\r\n\r\n  // --- בדיקה אם המשתמש מחובר ---\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n    loadTasks();\r\n  }, [navigate]);\r\n\r\n  // --- ממשק המשתמש ---\r\n  return (\r\n    <div>\r\n      <h2>Tasks</h2>\r\n      <input\r\n        placeholder=\"New task\"\r\n        value={newTask}\r\n        onChange={(e) => setNewTask(e.target.value)}\r\n      />\r\n      <button onClick={handleAddTask}>Add Task</button>\r\n\r\n      <ul style={{ listStyle: 'none', padding: 0 }}>\r\n        {tasks.map((task) => (\r\n          <li \r\n            key={task.id} \r\n            style={{ \r\n              display: 'flex', \r\n              alignItems: 'center', \r\n              margin: '5px 0',\r\n              textDecoration: task.isComplete ? 'line-through' : 'none'\r\n            }}\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={task.isComplete || false}\r\n              onChange={() => toggleComplete(task.id, task.isComplete)}\r\n              style={{ marginRight: '10px' }}\r\n            />\r\n            {task.name}\r\n            <button\r\n              onClick={() => handleDeleteTask(task.id)}\r\n              style={{ marginLeft: '10px' }}\r\n            >\r\n              Delete\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}