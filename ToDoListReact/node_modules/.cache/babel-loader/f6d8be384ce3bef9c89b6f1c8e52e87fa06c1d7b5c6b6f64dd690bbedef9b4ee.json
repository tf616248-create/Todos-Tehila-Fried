{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import { api } from \"./service\";\n// import { useNavigate } from \"react-router-dom\";\n\n// export default function Tasks() {\n//   const [tasks, setTasks] = useState([]);\n//   const [newTask, setNewTask] = useState(\"\");\n//   const navigate = useNavigate();\n\n//   const loadTasks = async () => {\n//     try {\n//       const data = await api.getTasks();\n//       if (!data) return; // אם אין token, כבר הפנה לעמוד login\n//       setTasks(data);\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Failed to load tasks. You might need to login.\");\n//     }\n//   };\n\n//   const handleAddTask = async () => {\n//     if (!newTask) return;\n//     try {\n//       await api.addTask(newTask);\n//       setNewTask(\"\");\n//       loadTasks();\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Failed to add task.\");\n//     }\n//   };\n//   const toggleComplete = async (id, currentStatus) => {\n//     try {\n//       await api.setCompleted(id, !currentStatus);\n//       await loadTasks(); // Refresh the tasks list\n//     } catch (error) {\n//       console.error(\"Error updating task status:\", error);\n//       alert(\"Failed to update task status\");\n//     }\n//   };\n\n//   useEffect(() => {\n//     // בדיקה אם יש token\n//     const token = localStorage.getItem(\"token\");\n//     if (!token) {\n//       navigate(\"/login\");\n//       return;\n//     }\n//     loadTasks();\n//   }, [navigate]);\n\n//   return (\n//     <div>\n//       <h2>Tasks</h2>\n//       <input\n//         placeholder=\"New task\"\n//         value={newTask}\n//         onChange={(e) => setNewTask(e.target.value)}\n//       />\n//       <button onClick={handleAddTask}>Add Task</button>\n//       <ul style={{ listStyle: 'none', padding: 0 }}>\n//   {tasks.map((task) => (\n//     <li \n//       key={task.id} \n//       style={{ \n//         display: 'flex', \n//         alignItems: 'center', \n//         margin: '5px 0',\n//         textDecoration: task.isComplete ? 'line-through' : 'none'\n//       }}\n//     >\n//       <input\n//         type=\"checkbox\"\n//         checked={task.isComplete || false}\n//         onChange={() => toggleComplete(task.id, task.isComplete)}\n//         style={{ marginRight: '10px' }}\n//       />\n//       {task.name}\n//     </li>\n//   ))}\n// </ul>    </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/user1/Documents/תכנות תשפו/פרקטי-קוד/3/ToDoListReact/src/Tasks.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import { api } from \"./service\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n\r\n// export default function Tasks() {\r\n//   const [tasks, setTasks] = useState([]);\r\n//   const [newTask, setNewTask] = useState(\"\");\r\n//   const navigate = useNavigate();\r\n\r\n//   const loadTasks = async () => {\r\n//     try {\r\n//       const data = await api.getTasks();\r\n//       if (!data) return; // אם אין token, כבר הפנה לעמוד login\r\n//       setTasks(data);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       alert(\"Failed to load tasks. You might need to login.\");\r\n//     }\r\n//   };\r\n\r\n//   const handleAddTask = async () => {\r\n//     if (!newTask) return;\r\n//     try {\r\n//       await api.addTask(newTask);\r\n//       setNewTask(\"\");\r\n//       loadTasks();\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       alert(\"Failed to add task.\");\r\n//     }\r\n//   };\r\n//   const toggleComplete = async (id, currentStatus) => {\r\n//     try {\r\n//       await api.setCompleted(id, !currentStatus);\r\n//       await loadTasks(); // Refresh the tasks list\r\n//     } catch (error) {\r\n//       console.error(\"Error updating task status:\", error);\r\n//       alert(\"Failed to update task status\");\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     // בדיקה אם יש token\r\n//     const token = localStorage.getItem(\"token\");\r\n//     if (!token) {\r\n//       navigate(\"/login\");\r\n//       return;\r\n//     }\r\n//     loadTasks();\r\n//   }, [navigate]);\r\n\r\n//   return (\r\n//     <div>\r\n//       <h2>Tasks</h2>\r\n//       <input\r\n//         placeholder=\"New task\"\r\n//         value={newTask}\r\n//         onChange={(e) => setNewTask(e.target.value)}\r\n//       />\r\n//       <button onClick={handleAddTask}>Add Task</button>\r\n//       <ul style={{ listStyle: 'none', padding: 0 }}>\r\n//   {tasks.map((task) => (\r\n//     <li \r\n//       key={task.id} \r\n//       style={{ \r\n//         display: 'flex', \r\n//         alignItems: 'center', \r\n//         margin: '5px 0',\r\n//         textDecoration: task.isComplete ? 'line-through' : 'none'\r\n//       }}\r\n//     >\r\n//       <input\r\n//         type=\"checkbox\"\r\n//         checked={task.isComplete || false}\r\n//         onChange={() => toggleComplete(task.id, task.isComplete)}\r\n//         style={{ marginRight: '10px' }}\r\n//       />\r\n//       {task.name}\r\n//     </li>\r\n//   ))}\r\n// </ul>    </div>\r\n//   );\r\n// }\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}